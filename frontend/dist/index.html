<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ShotGrid Integration</title>
    <link rel="stylesheet" type="text/css" href="shotgrid-addon.css">
    <script src="axios.min.js"></script>
  </head>

  <body>
    <h1>ShotGrid Sync</h1>
    <button id="sync-users-button"  class="sync-users-button" onclick="syncUsers();">Sync Users</button>
    <p>
        From this page you can Import projects from ShotGrid or trigger a project Sync!<br>
        In order for the Synchronization to work, a <b><code>ShotgridProcessor</code> <a target="_parent" href="/services">service</a> must be running</b>, this page will only create <a target="_parent" href="/events"> events (with the topic: "shotgrid.event.project.sync") </a> for the processor to handle.
    </p>
    <p>To be able to import a project from ShotGrid, there are two minimum requirements on ShotGrid:</p>
        <ul>
            <li> The Project name cannot contain spaces. </li>
            <li> The Project has to have a code, has to be lowercase and cannot start with a number. (You can choose what the field code is in the Addon Settings), </li>
        </ul>
    <p>If the above criteria isn't met, the Synchronization button will be greyed out.</p>
    <p>But first we need to fetch data from ShotGrid, press the button below:</p>
    <button id="populate-table-button"  class="populate-table-button" onclick="populateTable();">Populate Table</button>

    <p id="call-result"> </p>

    <table id="sg-addon-projects-table">
        <thead id="sg-addon-projects-table-header">
            <tr>
                <th>Name</th>
                <th>Code</th>
                <th>In AYON?</th>
                <th>In ShotGrid?</th>
                <th>Synchronize</th>
            </tr>
        </thead>
        <tbody class="sg-addon-projects-table-body" id="sg-addon-projects-table-body">
        </tbody>
    </table>

    <script type="text/javascript" src="shotgrid-addon.js"></script>
  </body>
</html>
